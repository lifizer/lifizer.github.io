webpackJsonp([8],{Ta2O:function(t,e){},kP1r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{fixed:!0,title:"菜品管理","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.redirctURL("/home")}}}),t._v(" "),a("div",{staticClass:"liui-page bg-f8"},[a("div",{staticClass:"table-cont"},[t._l(t.tableData,function(e){return a("div",{key:e.areaId,staticClass:"table-pannel"},[a("div",{staticClass:"table-pannel-header"},[t._v("\n          "+t._s(e.name)+"("+t._s(e.children.length)+")\n          "),a("span",{staticClass:"f-r"},[a("van-icon",{attrs:{name:"edit"},on:{click:function(a){return t.editHandler(e)}}}),t._v(" "),a("van-icon",{attrs:{name:"delete"},on:{click:function(a){return t.deleteHandler(e)}}})],1)]),t._v(" "),a("div",{staticClass:"table-pannel-body"},[a("van-grid",{attrs:{gutter:10}},[t._l(e.children,function(n){return a("van-grid-item",{key:e.areaId+"table-item-"+n.tID},[a("p",[t._v(t._s(n.tName))]),t._v(" "),a("span",[t._v(t._s(n.people)+"人")])])}),t._v(" "),a("van-grid-item",[a("van-icon",{staticClass:"no-data",attrs:{name:"plus"},on:{click:function(a){return t.addTableHandler(e)}}})],1)],2)],1)])}),t._v(" "),a("div",{staticClass:"table-cont-btn"},[a("van-button",{attrs:{type:"primary",size:"large"},on:{click:t.addHandler}},[t._v("添加区域")])],1)],2)]),t._v(" "),a("van-dialog",{attrs:{title:"修改","show-cancel-button":""},model:{value:t.editShow,callback:function(e){t.editShow=e},expression:"editShow"}},[a("van-cell-group",{staticClass:"field-content"},[a("van-field",{attrs:{placeholder:"请输入"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({data:function(){return{editShow:!1,content:"",currIndex:0,tableData:[{name:"大厅",areaId:1,children:function(){for(var t=[],e=0;e<16;e++)t.push({tName:e+1+"号桌",people:4,tID:e+1});return t}()}]}},created:function(){this.currIndex=this.tableData.length+1},methods:{redirctURL:function(t){t&&this.$router.push({path:t})},editHandler:function(t){this.content=t.name,this.editShow=!0},deleteHandler:function(t){var e=this;this.$dialog.confirm({message:"确定删除"+t.name+"?"}).then(function(){var a=e.tableData.findIndex(function(e){return e.areaId===t.areaId});e.tableData.splice(a,1)}).catch(function(){})},addHandler:function(){this.currIndex+=1,this.tableData.push({name:"区域"+this.currIndex,areaId:this.currIndex,children:[]})},addTableHandler:function(t){this.tableData.forEach(function(e){if(e.areaId===t.areaId){var a=e.children.length;e.children.push({tName:a+1+"号桌",people:4,tID:a+1})}})}}},n,!1,function(t){a("Ta2O")},"data-v-590faa28",null);e.default=i.exports}});